<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sound Test - Live Error Display</title>
    <link rel="stylesheet" href="/css/variables.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/layout/header-controls.css">
    <link rel="stylesheet" href="/css/components/cards.css">
    <link rel="stylesheet" href="/css/components/buttons.css">
    <link rel="stylesheet" href="/css/dark-mode.css">
    <style>
        .sound-test-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .sound-test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .sound-card {
            background-color: var(--color-card-bg);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .sound-card h3 {
            margin-top: 0;
            color: var(--color-primary);
        }
        
        .controls {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .volume-control label {
            min-width: 120px;
        }
    </style>
</head>
<body>
    <div class="sound-test-container">
        <header>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h1>ðŸ”Š Sound Test</h1>
                <button id="darkModeToggle" class="btn btn-icon" title="Dark/Light Mode umschalten">
                    ðŸŒ“
                </button>
            </div>
            <p>Test die verschiedenen BenachrichtigungstÃ¶ne fÃ¼r die Live Error Display Anwendung.</p>
        </header>
        
        <div class="controls">
            <div class="volume-control">
                <label for="volume-slider">LautstÃ¤rke:</label>
                <input type="range" id="volume-slider" min="0" max="100" value="70">
                <span id="volume-value">70%</span>
            </div>
            
            <div>
                <label>
                    <input type="checkbox" id="enable-sound" checked>
                    TÃ¶ne aktivieren
                </label>
            </div>
        </div>
        
        <div class="sound-test-grid">
            <div class="sound-card">
                <h3>Error Sound</h3>
                <p>Wird bei kritischen Fehlern abgespielt</p>
                <button class="btn btn-danger" data-sound="ERROR">Abspielen</button>
            </div>
            
            <div class="sound-card">
                <h3>Warning Sound</h3>
                <p>Wird bei Warnungen abgespielt</p>
                <button class="btn btn-warning" data-sound="WARNING">Abspielen</button>
            </div>
            
            <div class="sound-card">
                <h3>Info Sound</h3>
                <p>Wird bei Info-Meldungen abgespielt</p>
                <button class="btn btn-info" data-sound="INFO">Abspielen</button>
            </div>
            
            <div class="sound-card">
                <h3>Notification Sound</h3>
                <p>Wird bei allgemeinen Benachrichtigungen abgespielt</p>
                <button class="btn btn-primary" data-sound="NOTIFICATION">Abspielen</button>
            </div>
            
            <div class="sound-card">
                <h3>Success Sound</h3>
                <p>Wird bei erfolgreichen Operationen abgespielt</p>
                <button class="btn btn-success" data-sound="SUCCESS">Abspielen</button>
            </div>
            
            <div class="sound-card">
                <h3>Fallback Tones</h3>
                <p>Werden verwendet, wenn API-Sounds nicht verfÃ¼gbar sind</p>
                <button class="btn" data-fallback="ERROR">Error Tone</button>
                <button class="btn" data-fallback="WARNING">Warning Tone</button>
            </div>
        </div>
        
        <footer style="margin-top: 40px; text-align: center;">
            <p>
                <a href="index.html">ZurÃ¼ck zur Hauptseite</a>
            </p>
        </footer>
    </div>
    
    <script type="module">
        import * as SoundPlayer from '/sounds/sounds.js';
        import { FALLBACK_GENERATOR } from '/sounds/soundpack.js';
        
        document.addEventListener('DOMContentLoaded', function() {
            // Set up volume control
            const volumeSlider = document.getElementById('volume-slider');
            const volumeValue = document.getElementById('volume-value');
            
            volumeSlider.addEventListener('input', function() {
                const value = this.value / 100;
                SoundPlayer.setVolume(value);
                volumeValue.textContent = `${this.value}%`;
            });
            
            // Set up sound toggle
            const enableSound = document.getElementById('enable-sound');
            enableSound.addEventListener('change', function() {
                SoundPlayer.setEnabled(this.checked);
            });
            
            // Set up sound buttons
            document.querySelectorAll('[data-sound]').forEach(button => {
                button.addEventListener('click', function() {
                    const soundId = this.getAttribute('data-sound');
                    SoundPlayer.play(soundId);
                });
            });
            
            // Set up fallback tone buttons
            document.querySelectorAll('[data-fallback]').forEach(button => {
                button.addEventListener('click', function() {
                    const fallbackId = this.getAttribute('data-fallback');
                    FALLBACK_GENERATOR[fallbackId]();
                });
            });
            
            // Initialize with stored settings
            setTimeout(() => {
                // Give time for the SoundPlayer to initialize from localStorage
                const storedVolume = localStorage.getItem('sound_volume') || 0.7;
                volumeSlider.value = Math.round(storedVolume * 100);
                volumeValue.textContent = `${volumeSlider.value}%`;
                
                const storedEnabled = localStorage.getItem('sound_enabled');
                enableSound.checked = storedEnabled === null ? true : storedEnabled === 'true';
            }, 100);
        });
    </script>
    <script src="/js/dark-mode.js"></script>
</body>
</html>
